<div class="file-list-container">
  <div class="header">
    <div class="title-section">
      <h2>My Documents</h2>
      <p *ngIf="currentUser$ | async as user" class="welcome-text">
        Welcome, {{ user.username }}!
      </p>
    </div>
    <button class="logout-btn" (click)="onLogout()">Logout</button>
  </div>
  
  <div class="upload-section">
    <input 
      type="file" 
      #fileInput 
      (change)="onFileSelected($event)" 
      style="display: none;"
      accept=".doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf,.txt">
    <button 
      class="upload-btn" 
      (click)="fileInput.click()"
      [disabled]="isLoading">
      ğŸ“ {{ isLoading ? 'Uploading...' : 'Upload Document' }}
    </button>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <div class="files-table">
    <table>
      <thead>
        <tr>
          <th>File Name</th>
          <th>Upload Date</th>
          <th>Size</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let file of files">
          <td>{{ file.name }}</td>
          <td>{{ file.uploadDate | date:'short' }}</td>
          <td>{{ file.size }}</td>
          <td class="actions">
            <button 
              class="download-btn" 
              (click)="downloadFile(file)"
              title="Download file">
              â¬‡ï¸ Download
            </button>
            <button 
              class="open-btn" 
              (click)="openDocument(file.id)"
              title="Open in editor">
              ğŸ“ Open
            </button>
            <button 
              class="delete-btn" 
              (click)="deleteFile(file)"
              title="Delete file">
              ğŸ—‘ï¸ Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="files.length === 0 && !isLoading" class="no-files">
    <p>No documents uploaded yet. Upload your first document to get started!</p>
  </div>

  <div *ngIf="isLoading" class="loading">
    <p>Loading...</p>
  </div>
</div>