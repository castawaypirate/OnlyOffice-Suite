<div class="editor-page">
  <div class="editor-header">
    <button class="back-btn" (click)="goBack()">
      ‚Üê Back to Files
    </button>
    <h2>{{ fileName }}</h2>
  </div>

  <div class="editor-container" *ngIf="config && editorKey" [attr.data-editor-key]="editorKey">
    <document-editor
      id="docEditor"
      [documentServerUrl]="documentServerUrl"
      [config]="config"
      style="height: 800px; width: 100%;">
    </document-editor>
  </div>

  <div *ngIf="!config" class="loading">
    Loading document...
  </div>

  <!-- Uncommitted changes modal -->
  <div *ngIf="showUncommittedModal" class="modal-overlay">
    <div class="modal-content">
      <h3>Uncommitted Changes</h3>
      <p>You have uncommitted changes. Please wait for OnlyOffice to auto-commit your changes before navigating away.</p>
      <button class="modal-btn" (click)="closeUncommittedModal()">OK</button>
    </div>
  </div>

  <!-- Saving in progress modal -->
  <div *ngIf="showSavingModal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-spinner">
        <div class="spinner"></div>
      </div>
      <h3>Saving...</h3>
      <p>{{ savingModalMessage }}</p>
    </div>
  </div>

  <!-- Save result modal -->
  <div *ngIf="showSaveResultModal" class="modal-overlay">
    <div class="modal-content">
      <h3>{{ saveResultTitle }}</h3>
      <p>{{ saveResultMessage }}</p>
      <button *ngIf="saveResultSuccess" class="modal-btn" (click)="navigateAfterSaveSuccess()">OK</button>
      <button *ngIf="!saveResultSuccess" class="modal-btn" (click)="closeSaveResultModal()">Back to Editor</button>
    </div>
  </div>
</div>